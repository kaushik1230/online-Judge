"use strict";(self.webpackChunkoj_client=self.webpackChunkoj_client||[]).push([[290],{77290:(e,a,s)=>{s.r(a),s.d(a,{default:()=>_});var n=s(72791),t=s(88446),r=s(57689),l=s(35527),i=s(39281),d=s(79836),o=s(56890),c=s(35855),u=s(53994),m=s(53382),g=s(36151),h=s(94515),b=s(72426),j=s.n(b);const x={succRow:"LeaderTable_succRow__zo3za",errRow:"LeaderTable_errRow__gSclM",headRow:"LeaderTable_headRow__paYsu",quesRow:"LeaderTable_quesRow__IJc2M"};var p=s(31292),w=s(80184);const v=[{id:"quesName",label:"Question Name",align:"center"},{id:"username",label:"Username",align:"center"},{id:"status",label:"Status",align:"center"},{id:"msg",label:"Message",align:"center"},{id:"time",label:"Total Time(s)",align:"center",format:e=>e.toFixed(2)},{id:"language",label:"Language",align:"center"},{id:"submitTime",label:"Submit Time",align:"center"},{id:"code",label:"Code",align:"center"}],f=e=>{let{quesName:a,status:s,language:n,submitTime:t,completeTime:r,startTime:l,quesId:i,output:d,username:o,codeId:c}=e;(void 0===a||null===a)&&(a="Binary Search"),(void 0===i||null===i)&&(i="62d2def98f76467879c21e29"),(void 0===o||null===o)&&(o="guest");const u=Math.abs(new Date(r)-new Date(l))/1e3;return t=j()(t).fromNow(),s="pending"===s?"Pending":"success"===s?"Accepted":"Rejected",{quesName:a,status:s,language:n,time:u,submitTime:t,quesId:i,msg:d&&d.msg?d.msg:"NA",username:o,codeId:c}},T=e=>{const{leaders:a}=e,s=(0,r.s0)(),t=a.map(f),[b,j]=(0,n.useState)(0),[T,k]=(0,n.useState)(10);return(0,w.jsxs)(l.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,w.jsx)(i.Z,{sx:{maxHeight:"80vh"},children:(0,w.jsxs)(d.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,w.jsx)(o.Z,{children:(0,w.jsx)(c.Z,{children:v.map((e=>(0,w.jsx)(u.Z,{align:e.align,style:{minWidth:e.minWidth,backgroundColor:"rgb(38, 45, 51)",color:"rgba(240,240,240, 0.9)"},children:e.label},e.id)))})}),(0,w.jsx)(m.Z,{children:t.slice(b*T,b*T+T).map(((e,a)=>(0,w.jsx)(c.Z,{hover:!0,role:"checkbox",tabIndex:-1,className:x["Accepted"===e.status?"succRow":"Rejected"===e.status?"errRow":""],children:v.map((a=>{const n=e[a.id];return(0,w.jsx)(u.Z,{align:a.align,role:"quesName"===a.id?"link":"cell",onClick:"quesName"===a.id?()=>s(`/questions/${e.quesId}`):null,className:x["quesName"===a.id?"quesRow":""],children:"code"===a.id?(0,w.jsx)(g.Z,{variant:"contained",onClick:()=>s(`/codes/${e.quesId}${e.codeId?"?codeId="+e.codeId:""}`),children:(0,w.jsx)(p.Z,{})}):a.format?a.format(n):n},a.id)}))},a)))})]})}),(0,w.jsx)(h.Z,{rowsPerPageOptions:[10,30,50,80,100],component:"div",count:t.length,rowsPerPage:T,page:b,onPageChange:(e,a)=>{j(a)},onRowsPerPageChange:e=>{k(+e.target.value),j(0)}})]})};var k=s(7091),q=s(34457);const R=()=>{const[e,a]=(0,n.useState)(!0),[s,r]=(0,n.useState)(void 0),[l,i]=(0,n.useState)(void 0);return(0,n.useEffect)((()=>{fetch(`${t.p}/api/explore/leaderboard`,{headers:{"Content-Type":"application/json"},method:"GET"}).then((e=>e.ok?e.json():Promise.reject(e))).then((e=>i(e))).catch(r).finally((()=>a(!1)))}),[]),{loading:e,error:s,leaders:l}},_=()=>{const{loading:e,error:a,leaders:s}=R();return(0,w.jsxs)(n.Fragment,{children:[e&&(0,w.jsx)(k.Z,{}),!e&&a&&(0,w.jsx)("div",{children:(0,w.jsxs)("div",{className:"errorTemplate",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("span",{children:"Msg : "}),"Wasn't able to connect to server check if your are not offline or server might not be working !"]}),a&&(0,w.jsxs)("div",{children:[(0,w.jsx)("span",{children:"Error : "}),(0,q.JW)(a)]})]})}),!e&&!a&&(0,w.jsx)(T,{leaders:[...s]})]})}}}]);
//# sourceMappingURL=290.c096a502.chunk.js.map