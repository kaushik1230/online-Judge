"use strict";(self.webpackChunkoj_client=self.webpackChunkoj_client||[]).push([[739],{50739:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Ce});var i=s(72791),n=s(11087),a=s(59434),l=s(52791),o=s(55931),r=s(95193),d=s(20068),c=s(48980),h=s(49877),u=s(76098),p=s(77209),m=s(97893),x=s(42290),g=s(82167),j=s(72821),f=s(5289),y=s(65661),v=s(39157),b=s(27391),N=s(68096),Z=s(30829),w=s(99321),C=s(84638),S=s(12114),T=s(97123),k=s(36151),_=s(66934),L=s(9955),M=s(33449);const E="Note_note__A+Qow",O="Note_title__eJQeB",A="Note_desc__h-ZzL",z="Note_ftr__VxJ7a";var I=s(80184);const P=e=>{let{note:t,setOpenViewModal:s,setViewNote:n,refreshNotesList:a}=e,{title:l,codeid:o,desc:r,username:d,access:c,editable:h,edited:u,deleted:p}=t;l=l||"Title",o=o||null,r=r||"Description",h=h||!1,d=d||"guest";return(0,I.jsxs)("div",{className:E,style:(u||p)&&{cursor:"default"},onClick:()=>{!o||u||p||(n(t),s(!0))},children:[u||p?(0,I.jsxs)(i.Fragment,{children:[(0,I.jsx)("div",{style:{fontSize:"2.4rem",fontWeight:700,color:"hsl(0, 60%, 50%)"},children:p?"Deleted":"Edited"}),(0,I.jsx)("div",{style:{fontSize:"0.8rem",color:"hsla(0, 40%, 50%,0.8)",margin:"unset",lineHeight:"0.9rem"},children:p?"This note has been Removed !":"An Edit has been made to this note"}),(0,I.jsxs)("div",{style:{fontSize:"0.8rem",color:"hsla(0, 40%, 50%,0.8)",margin:"unset",lineHeight:"0.9rem"},children:[(0,I.jsx)("span",{style:{zIndex:100,position:"relative",color:"blue",textDecoration:"underline",fontWeight:500,cursor:"pointer",marginRight:"3px"},onClick:a,children:"Refresh"}),"this page to see changes !"]})]}):(0,I.jsxs)(i.Fragment,{children:[(0,I.jsx)("h4",{className:O,children:l}),(0,I.jsx)("p",{className:A,children:r})]}),(0,I.jsxs)("div",{className:z,children:[(0,I.jsx)("span",{children:d}),(0,I.jsxs)("span",{children:[c," / ",h?"editable":"read-only"]})]})]})};var R=s(88446),V=s(14277);const W=(0,_.ZP)(L.Z)((e=>{let{theme:t}=e;return{padding:8,"& .MuiSwitch-track":{borderRadius:11,"&:before, &:after":{content:'""',position:"absolute",top:"50%",transform:"translateY(-50%)",width:16,height:16},"&:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(t.palette.getContrastText(t.palette.primary.main))}" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>')`,left:12},"&:after":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(t.palette.getContrastText(t.palette.primary.main))}" d="M19,13H5V11H19V13Z" /></svg>')`,right:12}},"& .MuiSwitch-thumb":{boxShadow:"none",width:16,height:16,margin:2}}})),D=e=>{let{openModal:t,setOpenModal:s,isMobile:n,setReloadNeeded:o,SlideTransition:r}=e;const{username:d,isAdmin:c,isGuest:h}=(0,a.v9)((e=>e.auth)),[u,p]=(0,i.useState)(""),[m,x]=(0,i.useState)(""),[g,j]=(0,i.useState)("public"),[_,L]=(0,i.useState)(!1),[E,O]=(0,i.useState)(""),[A,z]=(0,i.useState)("c"),D=(0,a.I0)(),J=()=>{p(""),x(""),j("public"),L(!1),O(""),s(!1)},$=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(t){const{current:e}=$;null!==e&&e.focus()}}),[t]),(0,i.useEffect)((()=>{"private"===g&&L(!1)}),[g]),(0,I.jsxs)(f.Z,{open:t,onClose:()=>s(!1),scroll:"paper","aria-labelledby":"Add-Note",fullWidth:!0,maxWidth:!n&&"sm",fullScreen:n,TransitionComponent:r,children:[(0,I.jsx)(y.Z,{style:{textTransform:"capitalize"},children:"Add Note"}),(0,I.jsxs)(v.Z,{dividers:!0,ref:$,children:[(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",position:"relative"},children:[(0,I.jsx)("span",{style:{position:"absolute",top:"-0.8rem",left:"0",fontWeight:600,opacity:.6},children:"Preview :"}),(0,I.jsx)(P,{note:{title:u,desc:m,access:g,editable:_,username:d}})]}),(0,I.jsxs)(l.Z,{component:"form",sx:{"& .MuiTextField-root":{mb:1.3,width:"85%"}},noValidate:!0,autoComplete:"off",children:[(0,I.jsx)(b.Z,{required:!0,id:"title-textarea",label:"Title",placeholder:"Write max 20 characters",value:u,onChange:e=>p(e.target.value)}),(0,I.jsx)(b.Z,{id:"desc-textarea",label:"Description",placeholder:"Write max 200 characters",multiline:!0,value:m,onChange:e=>x(e.target.value)}),(0,I.jsxs)(N.Z,{sx:{width:"85%"},children:[(0,I.jsx)(Z.Z,{id:"access-input-label",children:"Access"}),(0,I.jsxs)(w.Z,{labelId:"access-input-label",id:"access-input",label:"Access",value:g,onChange:e=>j(e.target.value),children:[c&&(0,I.jsx)(C.Z,{value:"global",children:"Global"}),(0,I.jsx)(C.Z,{value:"public",children:"Public"}),!h&&(0,I.jsx)(C.Z,{value:"private",children:"Private"})]})]}),"private"!==g?(0,I.jsxs)("div",{children:[(0,I.jsx)(S.Z,{label:"Editable (By Anyone)",control:(0,I.jsx)(W,{checked:_,onChange:e=>L(e.target.checked)}),labelPlacement:"start"}),(0,I.jsxs)("span",{style:{marginLeft:"0.9rem",fontWeight:600,opacity:.6},children:[_?"Yes":"No"," "]})]}):(0,I.jsx)("div",{style:{fontSize:"0.85rem",fontWeight:600,opacity:.6,margin:"0.6rem 0 0.6rem 0"},children:"Private Note can't be made Editable by everyone (as only you can view/edit)"}),(0,I.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between"},children:[(0,I.jsx)("div",{style:{fontWeight:600,fontSize:"1.1rem",opacity:.7},children:"Enter Code : "}),(0,I.jsxs)(N.Z,{children:[(0,I.jsx)(Z.Z,{id:"changeLang-select-label",children:"Language"}),(0,I.jsxs)(w.Z,{labelId:"changeLang-select-label",id:"changeLang-select",value:A,label:"Language",style:{width:"8em",height:"2.5em"},onChange:e=>z(e.target.value),children:[(0,I.jsx)(C.Z,{value:"c",children:"C"}),(0,I.jsx)(C.Z,{value:"cpp",children:"Cpp"}),(0,I.jsx)(C.Z,{value:"py",children:"Python"}),(0,I.jsx)(C.Z,{value:"java",children:"JAVA"}),(0,I.jsx)(C.Z,{value:"js",children:"JS"})]})]})]}),(0,I.jsx)(M.Z,{code:E,setCode:O,language:A,fontSize:13})]})]}),(0,I.jsxs)(T.Z,{children:[(0,I.jsx)(k.Z,{style:{textTransform:"capitalize"},variant:"outlined",color:"secondary",onClick:()=>{u&&m?(J(),D(V.o.set({type:"info",message:"Adding New Note..."})),fetch(`${R.p}/api/notes`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({title:u,desc:m,code:E,language:A,access:g,editable:_}),credentials:"include"}).then((async e=>{const t=await e.json();return e.ok?t:Promise.reject(t)})).then((e=>{D(V.o.set({type:"success",message:"Added Note Successfully !",description:JSON.stringify(e)})),o(!0)})).catch((e=>{console.error(e),D(V.o.set({type:"error",message:"Adding Note Unsuccessful!",description:JSON.stringify(e)}))}))):D(V.o.set({type:"error",message:"title and description can't be empty",description:"title and description are required so please fill both !!!"}))},children:"Add"}),(0,I.jsx)(k.Z,{style:{textTransform:"capitalize"},variant:"outlined",onClick:J,children:"Cancel"})]})]})};var J=s(13400),$=s(51691),H=s(60627),F=s(5345),B=s(38820),G=s(5397),U=s(40318),Q=s(35759),q=s(72426),Y=s.n(q),K=s(76998),X=s.n(K);const ee="ViewNote_body__gty1n",te="ViewNote_response__hMYfE",se="ViewNote_resHead__UrDgR",ie="ViewNote_resTextHead__4Jwdf";var ne=s(7091);const ae=e=>{let{open:t,setOpen:s,handleDeleteOperation:i}=e;const n=()=>{s(!1)};return(0,I.jsxs)(f.Z,{open:t,onClose:n,"aria-labelledby":"alert-dialog-delete-note",TransitionComponent:H.Z,children:[(0,I.jsx)(y.Z,{children:"Delete Note"}),(0,I.jsx)(v.Z,{children:(0,I.jsxs)($.Z,{children:["Are you sure you want to delete this note ?",(0,I.jsx)("br",{}),"(Once Note is Delete can't be recovered !)"]})}),(0,I.jsxs)(T.Z,{children:[(0,I.jsx)(k.Z,{onClick:i,children:"Delete"}),(0,I.jsx)(k.Z,{onClick:n,autoFocus:!0,children:"Cancel"})]})]})},le=(e,t,s,n,a)=>{(0,i.useEffect)((()=>{e&&fetch(`${R.p}/api/notes/${e}?noteid=${t}`,{headers:{"Content-Type":"application/json"},method:"GET",credentials:"include"}).then((async e=>{const t=await e.json();return e.ok?t:Promise.reject(t)})).then((e=>{s(e.code),n(e.language)})).catch((e=>{s(JSON.stringify(e))})).finally((()=>a(!1)))}),[e,t,s,n,a])},oe=e=>{let{openModal:t,setOpenModal:s,viewNote:n,setEditNote:o,setOpenEditModal:r,isMobile:u,markEditOrDelete:p,setReloadNeeded:m,SlideTransition:x}=e;const{username:g,title:j,desc:N,access:Z,editable:w,codeid:C,_id:S,lastModifiedAt:_}=n,L=(0,a.I0)(),{username:E,isAdmin:O,isGuest:A}=(0,a.v9)((e=>e.auth)),[z,W]=(0,i.useState)(""),[D,H]=(0,i.useState)("c"),[q,K]=(0,i.useState)(!1),[oe,re]=(0,i.useState)(!1);!0===oe&&setTimeout((()=>re(!1)),2500);const[de,ce]=(0,i.useState)(!0),he=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(t){const{current:e}=he;null!==e&&e.focus()}}),[t]),le(C,S,W,H,ce);const[ue,pe]=(0,i.useState)("not-initialized"),[me,xe]=(0,i.useState)({status:"pending"}),[ge,je]=(0,i.useState)(""),fe=(0,i.useRef)(null);(0,i.useEffect)((()=>{W(""),je(""),ce(!0),pe("not-initialized"),xe({status:"pending"})}),[S]);const ye=(0,i.useRef)(null),ve=(0,i.useCallback)((()=>{ye.current&&(clearInterval(ye.current),ye.current=null)}),[]);(0,i.useEffect)((()=>{ye.current&&pe("not-initialized"),ve()}),[t,ve]);const be=O||"private"!==Z&&w||!A&&E===g,Ne=O||!A&&E===g;return(0,I.jsxs)(i.Fragment,{children:[(0,I.jsx)(ae,{open:q,setOpen:K,handleDeleteOperation:()=>{K(!1),s(!1),fetch(`${R.p}/api/notes/${S}`,{headers:{"Content-Type":"application/json"},method:"DELETE",credentials:"include"}).then((async e=>{const t=await e.json();return e.ok?t:Promise.reject(t)})).then((e=>{L(V.o.set({type:"success",message:"Deleted Note Successfully !",description:JSON.stringify(e)})),p(S,"deleted"),m(!0)})).catch((e=>{console.error(e),L(V.o.set({type:"error",message:"Deleting Note Unsuccessful!",description:JSON.stringify(e)}))}))}}),(0,I.jsxs)(f.Z,{open:t,onClose:()=>s(!1),scroll:"paper","aria-labelledby":"View-Note",fullWidth:!0,maxWidth:!u&&"md",fullScreen:u,TransitionComponent:x,children:[(0,I.jsx)(y.Z,{style:{textTransform:"capitalize"},children:(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)("span",{children:"View Note"}),(0,I.jsxs)("div",{style:{display:"flex"},children:[(0,I.jsx)(d.Z,{TransitionComponent:c.Z,title:"Share",placement:"bottom",children:(0,I.jsx)(l.Z,{children:(0,I.jsx)(h.Z,{onClick:()=>{const e=window.location.href;let t="",s="",i="";X()(e)?"private"===Z?(t="warning",s="Link copied but someone else can't open it as its a Private Note",i="Make this Note public to make it share-able !"):(t="success",s="Link to the Note copied successfully !",i=`Link to Note : ${e}`):(t="error",s="There are some errors copying the Note's Link !",i="Try using another browser !"),L(V.o.set({type:t,message:s,description:i}))},size:"small",color:"success","aria-label":"share",children:(0,I.jsx)(F.Z,{})})})}),(0,I.jsx)(d.Z,{TransitionComponent:c.Z,title:be?"Edit":"Can't edit this note",placement:"bottom",children:(0,I.jsx)(l.Z,{children:(0,I.jsx)(h.Z,{onClick:()=>{o({...n,code:z,language:D}),r(!0),s(!1)},size:"small",color:"info","aria-label":"edit",sx:{ml:1},disabled:!be,children:(0,I.jsx)(B.Z,{})})})}),(0,I.jsx)(d.Z,{TransitionComponent:c.Z,title:Ne?"Delete":"Can't delete this note",placement:"bottom",children:(0,I.jsx)(l.Z,{children:(0,I.jsx)(h.Z,{onClick:()=>K(!0),size:"small",color:"warning","aria-label":"delete",sx:{ml:1},disabled:!Ne,children:(0,I.jsx)(G.Z,{})})})})]})]})}),(0,I.jsxs)(v.Z,{dividers:!0,ref:he,children:[(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",position:"relative"},children:[(0,I.jsx)("span",{style:{position:"absolute",top:"-0.8rem",left:"0",fontWeight:600,opacity:.6},children:"Preview :"}),(0,I.jsx)(P,{note:{title:j,desc:N,access:Z,editable:w,username:g}})]}),(0,I.jsxs)(l.Z,{component:"form",sx:{"& .MuiTextField-root":{mb:1.3,width:"85%"}},noValidate:!0,autoComplete:"off",children:[(0,I.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between"},children:[(0,I.jsx)("div",{children:(0,I.jsx)(d.Z,{TransitionComponent:c.Z,title:oe?"Code Copied":"Copy Code",placement:"right",children:(0,I.jsx)(J.Z,{onClick:()=>{const e=X()(z),t=e?"success":"error",s=e?"Code copied successfully !":"There are some errors copying the code !";L(V.o.set({type:t,message:s})),re(!0)},"aria-label":oe?"Code Copied":"Copy Code",children:oe?(0,I.jsx)(U.Z,{}):(0,I.jsx)(Q.Z,{})})})}),(0,I.jsxs)("div",{style:{fontWeight:600,fontSize:"1.1rem",opacity:.7},children:["Language : ",de?"...":D]})]}),(0,I.jsx)(M.Z,{code:z,setCode:W,language:D,fontSize:15,isReadOnly:!0,isLoading:de})]}),(0,I.jsx)(b.Z,{id:"input-textarea",placeholder:"Put Multiline Input here",label:"Any Input ?",color:"secondary",fullWidth:!0,multiline:!0,maxRows:"3",variant:"outlined",sx:{marginTop:"2rem"},value:ge,onChange:e=>je(e.target.value)}),"not-initialized"!==ue&&(0,I.jsx)(l.Z,{className:ee,children:(0,I.jsxs)("div",{style:{"--col":"success"===me.status?127:0},className:te,children:[me.msg&&(0,I.jsxs)("div",{className:ie,children:[(0,I.jsx)("div",{className:se,children:"Msg: "}),(0,I.jsx)("div",{children:me.msg})]}),me.stdout&&(0,I.jsxs)("div",{className:ie,children:[(0,I.jsx)("div",{className:se,children:"STDOUT: "}),(0,I.jsx)("div",{children:me.stdout})]}),me.stderr&&(0,I.jsxs)("div",{className:ie,children:[(0,I.jsx)("div",{className:se,children:"STDERR: "}),(0,I.jsx)("div",{children:me.stderr})]}),me.error&&(0,I.jsxs)("div",{className:ie,children:[(0,I.jsx)("div",{className:se,children:"Error: "}),(0,I.jsx)("div",{children:JSON.stringify(me.error)})]}),me.serverError&&(0,I.jsxs)("div",{className:ie,children:[(0,I.jsx)("div",{className:se,children:"ServerError: "}),(0,I.jsx)("div",{children:me.serverError.toString()})]}),"pending"===me.status&&(0,I.jsx)("div",{style:{marginTop:"2rem",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,I.jsx)(ne.Z,{})})]})}),(0,I.jsx)("div",{ref:fe,style:{marginTop:"18rem"}})]}),(0,I.jsxs)(T.Z,{children:[(0,I.jsx)("div",{style:{width:"100%",padding:"6px 8px",textTransform:"capitalize"},children:(0,I.jsxs)($.Z,{children:["Last Modified: ",Y()(_).fromNow()]})}),(0,I.jsx)(k.Z,{style:{textTransform:"capitalize"},variant:"outlined",color:"secondary",onClick:async e=>{if(e.preventDefault(),"submitting"!==ue){pe("submitting"),xe({msg:"Queueing...",status:"pending"}),fe.current&&fe.current.scrollIntoView({behavior:"smooth"});try{const e=await fetch(`${R.p}/api/explore/codeExecutor`,{headers:{"Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify({code:z,language:D,input:ge})}),t=await e.json();xe(t),e.ok?ye.current=setInterval((async()=>{const e=await fetch(`${R.p}/api/explore/status/${t.queryId}`,{headers:{"Content-Type":"application/json"},method:"GET"}),s=await e.json();ye.current&&!e.ok?(ve(),pe("submitted"),xe(s)):ye.current&&"pending"!==s.status&&(ve(),pe("submitted"),xe({...s.output,status:s.status}))}),1e3):pe("submitted")}catch(t){xe({msg:"caught errors while sending code to server for getting verdict",serverError:JSON.stringify(t)}),pe("submitted")}}},children:"Compile"}),(0,I.jsx)(k.Z,{style:{textTransform:"capitalize"},variant:"outlined",onClick:()=>{s(!1)},children:"Cancel"})]})]})]})},re=(0,_.ZP)(L.Z)((e=>{let{theme:t}=e;return{padding:8,"& .MuiSwitch-track":{borderRadius:11,"&:before, &:after":{content:'""',position:"absolute",top:"50%",transform:"translateY(-50%)",width:16,height:16},"&:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(t.palette.getContrastText(t.palette.primary.main))}" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>')`,left:12},"&:after":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(t.palette.getContrastText(t.palette.primary.main))}" d="M19,13H5V11H19V13Z" /></svg>')`,right:12}},"& .MuiSwitch-thumb":{boxShadow:"none",width:16,height:16,margin:2}}})),de=e=>{let{openModal:t,setOpenModal:s,editNote:n,isMobile:o,markEditOrDelete:r,setReloadNeeded:d,SlideTransition:c}=e;const{username:h,title:u,desc:p,access:m,editable:x,code:g,language:j,_id:_}=n,L=(0,a.I0)(),{username:E,isAdmin:O,isGuest:A}=(0,a.v9)((e=>e.auth)),[z,W]=(0,i.useState)(""),[D,J]=(0,i.useState)(""),[$,H]=(0,i.useState)("public"),[F,B]=(0,i.useState)(!1),[G,U]=(0,i.useState)("cpp"),[Q,q]=(0,i.useState)("");(0,i.useEffect)((()=>{u&&W(u),p&&J(p),m&&H(m),x&&B(x),j&&U(j),g&&q(g)}),[u,p,m,x,j,g,L]);const Y=()=>{s(!1)},K=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(t){const{current:e}=K;null!==e&&e.focus()}}),[t]),(0,I.jsxs)(f.Z,{open:t,onClose:Y,scroll:"paper","aria-labelledby":"Edit-Note",fullWidth:!0,maxWidth:!o&&"sm",fullScreen:o,TransitionComponent:c,children:[(0,I.jsx)(y.Z,{style:{textTransform:"capitalize"},children:"Edit Note"}),(0,I.jsxs)(v.Z,{dividers:!0,ref:K,children:[(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",position:"relative"},children:[(0,I.jsx)("span",{style:{position:"absolute",top:"-0.8rem",left:"0",fontWeight:600,opacity:.6},children:"Preview :"}),(0,I.jsx)(P,{note:{title:z,desc:D,access:$,editable:F,username:h}})]}),(0,I.jsxs)(l.Z,{component:"form",sx:{"& .MuiTextField-root":{mb:1.3,width:"85%"}},noValidate:!0,autoComplete:"off",children:[(0,I.jsx)(b.Z,{required:!0,id:"title-textarea",label:"Title",placeholder:"Write max 20 characters",value:z,onChange:e=>W(e.target.value)}),(0,I.jsx)(b.Z,{id:"desc-textarea",label:"Description",placeholder:"Write max 200 characters",multiline:!0,value:D,onChange:e=>J(e.target.value)}),(O||E===h)&&(0,I.jsxs)(N.Z,{sx:{width:"85%"},children:[(0,I.jsx)(Z.Z,{id:"access-input-label",children:"Access"}),(0,I.jsxs)(w.Z,{labelId:"access-input-label",id:"access-input",label:"Access",value:$,onChange:e=>H(e.target.value),children:[O&&(0,I.jsx)(C.Z,{value:"global",children:"Global"}),(0,I.jsx)(C.Z,{value:"public",children:"Public"}),(O||"private"===$||E===h)&&!A&&(0,I.jsx)(C.Z,{value:"private",children:"Private"})]})]}),"private"!==$?(0,I.jsxs)("div",{children:[(0,I.jsx)(S.Z,{label:"Editable (By Anyone)",control:(0,I.jsx)(re,{checked:F,onChange:e=>B(e.target.checked)}),labelPlacement:"start"}),(0,I.jsxs)("span",{style:{marginLeft:"0.9rem",fontWeight:600,opacity:.6},children:[F?"Yes":"No"," "]})]}):(0,I.jsx)("div",{style:{fontSize:"0.85rem",fontWeight:600,opacity:.6,margin:"0.6rem 0 0.6rem 0"},children:"Private Note can't be made Editable by everyone (as only you can view/edit)"}),(0,I.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between"},children:[(0,I.jsx)("div",{style:{fontWeight:600,fontSize:"1.1rem",opacity:.7},children:"Enter Code : "}),(0,I.jsxs)(N.Z,{children:[(0,I.jsx)(Z.Z,{id:"changeLang-select-label",children:"Language"}),(0,I.jsxs)(w.Z,{labelId:"changeLang-select-label",id:"changeLang-select",value:G,label:"Language",style:{width:"8em",height:"2.5em"},onChange:e=>U(e.target.value),children:[(0,I.jsx)(C.Z,{value:"c",children:"C"}),(0,I.jsx)(C.Z,{value:"cpp",children:"Cpp"}),(0,I.jsx)(C.Z,{value:"py",children:"Python"}),(0,I.jsx)(C.Z,{value:"java",children:"JAVA"}),(0,I.jsx)(C.Z,{value:"js",children:"JS"})]})]})]}),(0,I.jsx)(M.Z,{code:Q,setCode:q,language:G,fontSize:13})]})]}),(0,I.jsxs)(T.Z,{children:[(0,I.jsx)(k.Z,{style:{textTransform:"capitalize"},variant:"outlined",color:"secondary",onClick:()=>{z&&D?(Y(),L(V.o.set({type:"info",message:"Editing the Note..."})),fetch(`${R.p}/api/notes/${_}`,{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify({title:z,desc:D,code:Q,language:G,access:$,editable:F}),credentials:"include"}).then((async e=>{const t=await e.json();return e.ok?t:Promise.reject(t)})).then((e=>{L(V.o.set({type:"success",message:"Edited Note Successfully !",description:JSON.stringify(e)})),d(!0),r(_,"edited")})).catch((e=>{console.error(e),L(V.o.set({type:"error",message:"Editing Note Unsuccessful!",description:JSON.stringify(e)}))}))):L(V.o.set({type:"error",message:"title and description can't be empty",description:"title and description are required so please fill both !!!"}))},children:"Save"}),(0,I.jsx)(k.Z,{style:{textTransform:"capitalize"},variant:"outlined",onClick:Y,children:"Cancel"})]})]})},ce="Notes_head__eGo9q",he="Notes_noteList__dhI38",ue="Notes_addNoteFab__eBgp4",pe="Notes_adminModeFab__i2f5r",me="Notes_container__1HbzT",xe="Notes_ncLabel__ePH6I",ge="Notes_noNote__gK9HN",je="Notes_red__qHkOb",fe=(0,i.forwardRef)(((e,t)=>(0,I.jsx)(o.Z,{ref:t,...e,direction:"up"})));let ye=!0;const ve=e=>{let{searchNoteQuery:t,setAllNotes:s,originalAllNotes:n}=e;const[a,l]=(0,i.useTransition)();return(0,i.useEffect)((()=>{l((()=>{s(t?n.filter((e=>e.title.toLowerCase().includes(t.toLowerCase())||e.desc.toLowerCase().includes(t.toLowerCase()))):n)}))}),[t,n,s]),[a]},be=e=>{let{addNoteHandler:t,isAdmin:s,isAdminMode:n,setAdminMode:a}=e;return(0,I.jsxs)(i.Fragment,{children:[(0,I.jsx)(d.Z,{TransitionComponent:c.Z,title:"Add Note",placement:"bottom",children:(0,I.jsx)(h.Z,{onClick:t,className:ue,"aria-label":"add-note",children:(0,I.jsx)(p.Z,{sx:{fontSize:"1.7rem"}})})}),s&&(0,I.jsx)(d.Z,{TransitionComponent:c.Z,title:"Admin Mode",placement:"bottom",children:(0,I.jsx)(h.Z,{color:"secondary",onClick:()=>a(!!s&&(e=>!e)),className:pe,"aria-label":"admin-mode",children:n?(0,I.jsx)(m.Z,{sx:{fontSize:"2.4rem"}}):(0,I.jsx)(x.Z,{sx:{fontSize:"2.4rem"}})})})]})},Ne=e=>{let{reloadNeeded:t,refreshNotesList:s}=e;return(0,I.jsxs)(i.Fragment,{children:[(0,I.jsx)("div",{className:ce,children:"Notes"}),t&&(0,I.jsxs)("div",{style:{fontSize:"1rem",color:"hsla(0, 40%, 50%,0.8)",margin:"unset",position:"relative",marginBottom:"0.5rem"},children:[(0,I.jsx)("span",{onClick:s,style:{zIndex:100,position:"relative",color:"blue",textDecoration:"underline",fontWeight:500,cursor:"pointer"},children:"Refresh"})," this page to see changes !"]})]})},Ze=e=>{let{searchNoteQuery:t,setSearchNoteQuery:s,isSearching:i}=e;return(0,I.jsxs)(l.Z,{sx:{position:"relative",borderRadius:"5px",backgroundColor:"rgba(0,0,0,0.16)",transition:"all 300ms ease-in-out","&:hover":{backgroundColor:"rgba(0,0,0,0.13)"},width:"75%",display:"flex",marginBottom:"1rem",marginTop:"0.5rem"},children:[(0,I.jsx)(l.Z,{sx:{padding:"0 1rem",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,I.jsx)(g.Z,{})}),(0,I.jsx)(u.ZP,{sx:{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:"0.7rem",paddingLeft:"3.5rem",width:"100%"}},placeholder:"Search a note\u2026",inputProps:{"aria-label":"search a note"},onChange:e=>s(e.target.value),value:t}),i&&(0,I.jsx)("span",{style:{display:"flex",alignItems:"center",marginRight:"5px"},className:"spin",color:"black"})]})},we=e=>{let{allNotes:t,refreshNotesList:s,setViewNote:n,setOpenViewModal:a,loggedIn:l,username:o,addNoteHandler:r}=e;return(0,I.jsxs)(i.Fragment,{children:[(0,I.jsxs)("div",{className:xe,children:[(0,I.jsx)("span",{children:"Global Notes by Admin"}),(0,I.jsx)(j.Z,{fontSize:"medium"})]}),(0,I.jsx)("div",{className:he,children:t.filter((e=>"global"===e.access)).map((e=>(0,I.jsx)(P,{refreshNotesList:s,note:e,setViewNote:n,setOpenViewModal:a},e._id)))}),(0,I.jsx)("div",{className:xe,children:(0,I.jsx)("span",{children:"Public Notes by Users/Guest"})}),(0,I.jsx)("div",{className:he,children:t.filter((e=>"public"===e.access)).map((e=>(0,I.jsx)(P,{refreshNotesList:s,note:e,setViewNote:n,setOpenViewModal:a},e._id)))}),(0,I.jsx)("div",{className:xe,children:l?(0,I.jsxs)("span",{children:["Private Notes by ",o]}):(0,I.jsx)("span",{className:je,children:"To see Private Notes you must be Logged In !"})}),l?(0,I.jsx)("div",{className:he,children:0===t.filter((e=>"private"===e.access)).length?(0,I.jsxs)("span",{className:je+" "+ge,children:["You have not created any Private Note, ",(0,I.jsx)("button",{onClick:r,children:"Make One"})]}):t.filter((e=>"private"===e.access)).map((e=>(0,I.jsx)(P,{refreshNotesList:s,note:e,setViewNote:n,setOpenViewModal:a},e._id)))}):""]})},Ce=()=>{const[e,t]=(0,i.useState)([]),[s,l]=(0,i.useState)([]),[o,d]=(0,i.useState)(!1),[c,h]=(0,i.useState)(!1),[u,p]=(0,i.useState)({}),[m,x]=(0,i.useState)(!1),[g,j]=(0,i.useState)({}),[f,y]=(0,i.useState)(!0),[v,b]=(0,i.useState)(void 0),[N,Z]=(0,i.useState)(!1),[w,C]=(0,i.useState)(""),[S,T]=(0,n.lr)(),[k,_]=(0,i.useState)(!1),L=(0,a.I0)(),{loggedIn:M,username:E,isAdmin:O}=(0,a.v9)((e=>e.auth)),A=(0,r.Z)("(max-width:620px)");(0,i.useEffect)((()=>{if(!ye||f)return;ye=!1;const e=S.get("view");if(!e)return;const t=s.find((t=>t._id===e));t?(h(!0),p(t)):L(V.o.set({type:"error",message:"The Note's Link you are accessing does not exists",description:"There is a query string in url, which does not belong to any note, this may be due to : the note you are tying to access has been deleted or may be link in incomplete !"}))}),[f,S,s,L]),(0,i.useEffect)((()=>{ye||T(c?{view:u._id}:{})}),[c,T,u]);const z=(e,s)=>{t((t=>t.map((t=>{if(t._id===e){const e={...t};return e[s]=!0,e}return t}))))},P=(0,i.useCallback)((()=>{y(!0),fetch(`${R.p}/api/notes/allNotes${k?"?admin=true":""}`,{headers:{"Content-Type":"application/json"},method:"GET",credentials:"include"}).then((async e=>{const t=await e.json();return e.ok?t:Promise.reject(t)})).then((e=>{t(e),l(e)})).catch(b).finally((()=>y(!1)))}),[k]);(0,i.useEffect)((()=>{P()}),[L,P]),(0,i.useEffect)((()=>{L(V.o.set({type:"info",message:"Click on Notes to view their Code !",description:"If you click on a Note, you will be able to share, edit, or delete it. Alternatively, you can add a new note by clicking on the Add button !"}))}),[L]);const W=()=>d(!0),[J]=ve({searchNoteQuery:w,setAllNotes:t,originalAllNotes:s}),$=()=>{j({}),p({}),Z(!1),P()};return(0,I.jsxs)(i.Fragment,{children:[f&&(0,I.jsx)(ne.Z,{}),!f&&v&&(0,I.jsx)("div",{children:(0,I.jsxs)("div",{className:"errorTemplate",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{children:"Msg : "}),"Wasn't able to connect to server check if your are not offline or server might not be working !"]}),v&&(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{children:"Error : "}),JSON.stringify(v)]})]})}),!v&&(0,I.jsxs)("div",{className:me,children:[(0,I.jsx)(D,{setSearchParams:T,SlideTransition:fe,setReloadNeeded:Z,isMobile:A,openModal:o,setOpenModal:d}),(0,I.jsx)(oe,{setSearchParams:T,SlideTransition:fe,setReloadNeeded:Z,markEditOrDelete:z,isMobile:A,openModal:c,setOpenModal:h,setEditNote:j,setOpenEditModal:x,viewNote:u}),(0,I.jsx)(de,{setSearchParams:T,SlideTransition:fe,setReloadNeeded:Z,markEditOrDelete:z,isMobile:A,openModal:m,setOpenModal:x,editNote:g}),(0,I.jsx)(be,{addNoteHandler:W,isAdmin:O,isAdminMode:k,setAdminMode:_}),(0,I.jsx)(Ne,{refreshNotesList:$,reloadNeeded:N}),(0,I.jsx)(Ze,{searchNoteQuery:w,setSearchNoteQuery:C,isSearching:J}),!f&&(0,I.jsx)(we,{allNotes:e,refreshNotesList:$,setViewNote:p,setOpenViewModal:h,loggedIn:M,username:E,addNoteHandler:W})]})]})}},33449:(e,t,s)=>{s.d(t,{Z:()=>l});var i=s(72791),n=s(38399),a=(s(25351),s(56339),s(25502),s(90262),s(73905),s(41941),s(30027),s(80184));const l=e=>{const{code:t,setCode:s,language:l,fontSize:o,isReadOnly:r=!1,isLoading:d=!1}=e;let c="c_cpp";switch(l){case"c":case"cpp":default:c="c_cpp";break;case"java":c="java";break;case"py":c="python";break;case"js":c="javascript"}return(0,a.jsxs)(i.Fragment,{children:[d&&(0,a.jsxs)("div",{style:{position:"absolute",zIndex:10,display:"flex",alignItems:"center",pointerEvents:"none",translate:"0 1rem"},children:[(0,a.jsx)("div",{className:"spin"}),(0,a.jsx)("span",{style:{fontSize:"1.8rem",color:"rgba(128, 128, 128, 0.8)",fontWeight:500,marginLeft:"1rem"},children:"Loading Code..."})]}),(0,a.jsx)(n.ZP,{placeholder:"Enter your code here",mode:c,theme:"monokai",name:"editorv3",onLoad:()=>{},onChange:e=>s(e),fontSize:parseInt(o),showPrintMargin:!1,showGutter:!0,readOnly:r,highlightActiveLine:!0,value:t,width:"100%",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:4}})]})}}}]);
//# sourceMappingURL=739.7e0d6bdf.chunk.js.map